<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>拖拽盒子</title>
		<style type="text/css">
			body {
				text-align: center;
			}
			.box {
				width: 100px;
				height: 100px;
				background-color: #bfa;
				margin: 10px;				
			}
		</style>
		<script type="text/javascript">
			//定义一个创建div函数
			function createNewdiv() {
				var newdiv = document.createElement("div");
				newdiv.setAttribute("class","box");
				document.body.appendChild(newdiv);
				drag(newdiv);
				
			}
			
			window.onload = function() {
				
				var btn = document.getElementById("btn");	
				btn.onclick = function() {
					createNewdiv();
				}
				
			};
			
			 //定义拖拽函数
			function drag(obj) {
				obj.onmousedown = function(event) {
					obj.style.position = "absolute";
					event = event || window.event;
					var ol = event.clientX - obj.offsetLeft;
					var ot = event.clientY - obj.offsetTop;
					document.onmousemove = function(event) {
						event = event || window.event;
						var left = event.clientX - ol;
						var top = event.clientY - ot;
						
						obj.style.left = left+"px";
						obj.style.top = top+"px";
						
					};
					document.onmouseup = function() {
						document.onmousemove = null;
						document.onmouseup = null;
					};
					return false;
				};
			}
			
			
		</script>
	</head>
	<body>
		<button id="btn">创建一个可拖拽的盒子</button>
	</body>
</html>
